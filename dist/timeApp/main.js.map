{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/user/user.component.css","webpack:///./src/app/components/user/user.component.html","webpack:///./src/app/components/user/user.component.ts","webpack:///./src/app/services/signal-r.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<app-user></app-user>\\n<router-outlet></router-outlet>\\n\"","import { Component } from '@angular/core';\n\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'timeApp';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { UserComponent } from './components/user/user.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AngularFontAwesomeModule } from 'angular-font-awesome';\n\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    UserComponent\n    \n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    AngularFontAwesomeModule\n  \n    \n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdXNlci91c2VyLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<!-- Navigation -->\\n<header class=\\\"p-3\\\">\\n  <img class=\\\"img-fluid\\\" src=\\\"./assets/img/evona-logo-top-left.png\\\"  alt=\\\"\\\">\\n  <span class=\\\"clr-lemon\\\">{{date | date :  \\\"HH:mm\\\"}} </span>\\n  <span>{{date | date :  \\\"dd. MM. y.\\\"}} </span>\\n</header>\\n\\n<!-- Page Content -->\\n<div class=\\\"content\\\">\\n    <div class=\\\"float-left col-lg-3 col-ms-3 col-sm-3 col-xs-3\\\"   *ngFor=\\\"let row of splitedGroups\\\">\\n        <div class=\\\"team-container\\\" *ngFor=\\\"let team of row\\\">\\n          <div class=\\\"team-header\\\">{{team.name}}</div>\\n          <div class=\\\"team-members\\\">\\n            <div class=\\\"user\\\">\\n              <div *ngFor=\\\"let user of team\\\" class=\\\"users-holder\\\">\\n                <div class=\\\"time-holder\\\">\\n                  <span class=\\\"time-stamp\\\">\\n                    <div class=\\\"fa fa-play\\\" [ngClass]=\\\"user.reason == 1 ? 'check-in-icon' : 'check-out-icon'\\\"></div>\\n                    <div [ngClass]=\\\"user.reason == 1 ? 'clr-lemon' : 'clr-passion'\\\">{{user.timeStamp | date: 'HH:mm'}}</div>\\n                  </span>\\n                </div>\\n                <div class=\\\"user-holder\\\" [ngClass]=\\\"user.reason == 1 ? 'font-weight-bold' : 'clr-gray'\\\">{{user.firstName}} {{user.lastName}}</div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n\\n<!-- Message -->\\n\\n<div class=\\\"message-dialog\\\" *ngIf=\\\"currentUser\\\">\\n  <div class=\\\"msg-holder\\\">\\n    <div class=\\\"changed-message clr-passion\\\">{{currentUser.reason == 1 ? 'WELCOME' : 'GOODBYE'}}</div>\\n    <div class=\\\"changed-user\\\">{{currentUser.firstName}}</div>\\n  </div>\\n</div>\\n\\n<!--End of Page Content -->\\n</div>\\n\\n<footer>\\n  <img  class=\\\"float-right p-4 mr-5 img-fluid\\\" src=\\\"./assets/img/passion-logo-btm-right.png\\\" alt=\\\"\\\">\\n</footer>\"","import { Component, OnInit } from '@angular/core';\nimport { SignalRService } from 'src/app/services/signal-r.service';\nimport { _ } from 'underscore';\n\n\n@Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css']\n})\nexport class UserComponent implements OnInit {\n\n  public usersGroups = [];\n  date: any;\n  currentUser: any;\n  splitedGroups = [];\n\n  constructor(private signalRService: SignalRService) {}\n\n  ngOnInit() {\n    this.clock();\n    this.signalRService.listen();\n    this.listenChanges();\n    this.listenUserChanges();\n  }\n\n  clock(){\n    this.date = new Date();\n    setInterval(() => {\n      this.date = new Date();\n    }, 1000);\n  }\n\n  splitGroups(groups){\n    let groupedArray = groups;\n    \n    this.splitedGroups = [];\n    for (var i=0; i<groupedArray.length; i+=2) {\n         this.splitedGroups.push(groupedArray.slice(i,i+2));\n    }\n\n  \n  }\n\n  listenChanges() {\n    this.signalRService.users$.subscribe(\n      users => {\n        this.usersGroups=[];\n        let groupedUsers = _.groupBy(users[0], function (user) {\n          return user.department;\n        });\n\n        for (var key in groupedUsers) {\n          if(key.toLowerCase() != \"betx\"){\n          groupedUsers[key].name = key;\n          groupedUsers[key].users = groupedUsers[key];\n          this.usersGroups.push(groupedUsers[key])\n          }\n        }\n        this.splitGroups(this.usersGroups);\n      });\n  }\n\n  onUserChanged(user) {\n    this.usersGroups.forEach(departmnet => {\n      if (departmnet.name == user.department) {\n        departmnet.users.forEach(usr => {\n          if (usr.id == user.userId) {\n            usr.reason = user.reason;\n            usr.timeStamp = user.timeStamp;\n          }\n        });\n      }\n    });\n    this.splitGroups(this.usersGroups);\n  }\n\n  listenUserChanges() {\n    this.signalRService.user$.subscribe(\n      user => {\n        this.currentUser = user;\n        this.onUserChanged(user);\n        setTimeout(() => {\n          this.currentUser = null;\n        }, 5000);\n      });\n\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { Subject } from 'rxjs';\nimport * as signalR from \"@aspnet/signalr\";\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SignalRService {\n\n\n\n  private userSource = new Subject<any>();\n  user$ = this.userSource.asObservable();\n\n  private usersSource = new Subject<any>();\n  users$ = this.usersSource.asObservable();\n\n  public connection;\n\n  constructor() { }\n\n  listen() {\n    this.connection = new signalR.HubConnectionBuilder().withUrl(environment.apiUrl + \"/userLogHub\").build();\n    this.connection.start().then(() => {\n      this.listenForChanges();\n      console.log(\"connected\");\n    }, function (err) {\n      console.log(\"connection failed\");\n    });\n\n    this.connection.onclose(() => {\n      console.log(\"disconnected\");\n      if (this.connection.state == 0) {\n        let interval = setInterval(() => {\n          this.connection.start().then(() => {\n            this.listenForChanges();\n            console.log(\"connected\");\n            clearInterval(interval);\n          }, function (err) {\n            console.log(\"connection failed\");\n          });\n        }, 10000);\n      }\n    });\n  }\n\n  private listenForChanges() {\n    this.connection.on(\"ChangedUser\", (user: any) => {\n      this.userSource.next(user);\n    });\n\n    this.connection.on(\"CurrentUsers\", (users: Array<any>) => {\n      this.usersSource.next(new Array(users));\n    });\n  }\n\n}\n\n\n\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://timeattendanceapi.mostar1.local/'\n};\n\n\n/*\nhttp://timeattendanceapi.mostar1.local/\n\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}